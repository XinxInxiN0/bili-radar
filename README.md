# éº¦å“”é›·è¾¾ (MaiBot Bili Radar)

> Bilibili UP ä¸»æ–°è§†é¢‘æ¨é€æ’ä»¶ï¼Œæ”¯æŒç¾¤å†…è®¢é˜…ç®¡ç†

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

å°†æ’ä»¶æ”¾ç½®åœ¨ MaiBot çš„ `plugins/` ç›®å½•ä¸‹ï¼Œé‡å¯ MaiBot å³å¯è‡ªåŠ¨åŠ è½½ã€‚

### é…ç½®

æ’ä»¶é¦–æ¬¡åŠ è½½æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®é¡¹ï¼Œå¯åœ¨ MaiBot é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ï¼š

```yaml
maibot-bili-radar:
  polling:
    interval_seconds: 120  # è½®è¯¢é—´éš”ï¼ˆç§’ï¼‰
    max_concurrency: 3     # æœ€å¤§å¹¶å‘è¯·æ±‚æ•°
  
  bilibili:
    timeout_seconds: 10
    user_agent: "Mozilla/5.0 ..."
    referer: "https://www.bilibili.com"
    wbi_keys_refresh_hours: 12
  
  push:
    message_template: "ğŸ¬ æ–°è§†é¢‘æ¨é€\næ ‡é¢˜ï¼š{title}\nä½œè€…ï¼š{author}\né“¾æ¥ï¼š{url}"
  
  permission:
    admin_only: true  # æ˜¯å¦ä»…ç®¡ç†å‘˜å¯ä¿®æ”¹è®¢é˜…
    operator_allowlist: []
```

## æŒ‡ä»¤è¯´æ˜

æ‰€æœ‰æŒ‡ä»¤å‡ä»¥ `/radar` å¼€å¤´ï¼š

| æŒ‡ä»¤ | å‚æ•° | åŠŸèƒ½ | æƒé™è¦æ±‚ |
|------|------|------|----------|
| `/radar add` | `<mid>` | æ·»åŠ è®¢é˜…ï¼ˆmid ä¸º UP ä¸» IDï¼‰ | ç®¡ç†å‘˜/ç™½åå• |
| `/radar del` | `<mid>` | åˆ é™¤è®¢é˜… | ç®¡ç†å‘˜/ç™½åå• |
| `/radar list` | - | åˆ—å‡ºæœ¬ç¾¤æ‰€æœ‰è®¢é˜… | æ‰€æœ‰äºº |
| `/radar on` | `<mid>` | å¯ç”¨æ¨é€ | ç®¡ç†å‘˜/ç™½åå• |
| `/radar off` | `<mid>` | ç¦ç”¨æ¨é€ï¼ˆä¿ç•™è®¢é˜…ï¼‰ | ç®¡ç†å‘˜/ç™½åå• |
| `/radar test` | `<mid>` | ç«‹å³æµ‹è¯•æ¨é€æœ€æ–°è§†é¢‘ | ç®¡ç†å‘˜/ç™½åå• |
| `/radar help` | - | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | æ‰€æœ‰äºº |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# æ·»åŠ è®¢é˜…ï¼ˆä»¥ UP ä¸» UID 546195 ä¸ºä¾‹ï¼‰
/radar add 546195

# æŸ¥çœ‹æœ¬ç¾¤è®¢é˜…
/radar list

# æµ‹è¯•æ¨é€
/radar test 546195

# ä¸´æ—¶å…³é—­æ¨é€ï¼ˆä¸åˆ é™¤è®¢é˜…ï¼‰
/radar off 546195

# åˆ é™¤è®¢é˜…
/radar del 546195
```


## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è·å– UP ä¸»çš„ midï¼Ÿ

A: è®¿é—® UP ä¸»ä¸»é¡µï¼ŒURL ä¸­çš„æ•°å­—å³ä¸º midã€‚ä¾‹å¦‚ `https://space.bilibili.com/546195` ä¸­çš„ `546195`ã€‚

### Q: è½®è¯¢é—´éš”è®¾å¤šå°‘åˆé€‚ï¼Ÿ

A: é»˜è®¤ 120 ç§’ï¼Œè®¢é˜…é‡å¤§æ—¶å¯é€‚å½“å¢åŠ é¿å…è§¦å‘é£æ§ã€‚å»ºè®®ä¸ä½äº 60 ç§’ã€‚

### Q: æ·»åŠ è®¢é˜…åä¼šæ¨é€å†å²è§†é¢‘å—ï¼Ÿ

A: ä¸ä¼šã€‚æ·»åŠ è®¢é˜…æ—¶ä»…è®°å½•å½“å‰æœ€æ–°è§†é¢‘ä½œä¸ºåŸºå‡†ï¼Œåç»­ä»…æ¨é€æ–°å‘å¸ƒçš„è§†é¢‘ã€‚

### Q: é‡åˆ° -412 é”™è¯¯æ€ä¹ˆåŠï¼Ÿ

A: è¿™æ˜¯ Bilibili çš„é£æ§æ‹¦æˆªã€‚æ’ä»¶ä¼šè‡ªåŠ¨è·³è¿‡å½“å‰å‘¨æœŸï¼Œå¯å°è¯•ï¼š
- å¢åŠ è½®è¯¢é—´éš”
- å‡å°‘åŒæ—¶è®¢é˜…çš„ UP æ•°é‡
- é…ç½® Cookieï¼ˆå¯é€‰çš„ `cookie_sessdata`ï¼‰

```


## è‡´è°¢

- [Bilibili-API-collect](https://github.com/SocialSisterYi/bilibili-API-collect) - Bilibili API
- [MaiBot](https://docs.mai-mai.org/) - éº¦éº¦

---

**æ³¨æ„**ï¼šæœ¬æ’ä»¶ä»…ç”¨äºå­¦ä¹ å’Œä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿æ»¥ç”¨ã€‚ä½¿ç”¨æ—¶è¯·éµå®ˆ Bilibili æœåŠ¡æ¡æ¬¾ã€‚
